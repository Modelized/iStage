<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>iStage</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">
  <!-- Icons / PWA basics -->
  <link rel="icon" type="image/svg+xml" href="/iStage/favicon.svg">
  <link rel="icon" sizes="192x192" href="/iStage/android-chrome-192x192.png">
  <link rel="icon" sizes="512x512" href="/iStage/android-chrome-512x512.png">
  <link rel="apple-touch-icon" href="/iStage/apple-touch-icon.png">
  <link rel="mask-icon" href="/iStage/pinned-tab.svg" color="#0f1116">

  <!-- Address bar color -->
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
  <style>
  /* ----- Help page (scoped) ----- */
  :root{
    --surface-light:#f5f5f7;
    --surface-dark:#0f1116;
  }
  .sr-only{
    position:absolute !important;
    width:1px !important;
    height:1px !important;
    padding:0 !important;
    margin:-1px !important;
    overflow:hidden !important;
    clip:rect(0,0,0,0) !important;
    white-space:nowrap !important;
    border:0 !important;
  }

  /* no backdrop under nav on this page */
  .page-help .nav-backdrop{ display:none !important; }

  /* page surface */
  .page-help{ background:#fff; font-synthesis-weight: none; }
  @media (prefers-color-scheme: dark){
    .page-help{ background:#000; color:#e8e9ec; font-synthesis-weight: none; }
  }

  /* subtitle contrast */
  .page-help .subtitle{ color:#5e6572; }
  @media (prefers-color-scheme: dark){
    .page-help .subtitle{ color:#a7acb7; }
  }

  /* push first section clear of fixed nav (extra to avoid iOS clipping) */
  .page-help .section--first{
    padding-top: calc(env(safe-area-inset-top) + var(--nav-offset-mobile) + 12px);
    margin-top:0;
  }
  @media (min-width:900px){
    .page-help .section--first{
      padding-top: calc(env(safe-area-inset-top) + var(--nav-offset-desktop) + 14px);
    }
  }

  /* tighten heading stack */
  .page-help .copy{ gap:6px; margin-bottom:12px; }
  .page-help .title{ margin:0 0 4px }

  /* Help hero image (match Releases styling) */
  .help-hero{ display:flex; justify-content:center; margin:8px 0 18px }
  .help-hero img{
    width: clamp(180px, 48vw, 360px);
    height: auto;
    aspect-ratio: auto;
    object-fit: contain;
    background-color: transparent;
    box-shadow: none;
    filter: drop-shadow(0 8px 30px rgba(0,0,0,.12));
    border-radius: 12px;
  }

  /* card surface matches site theme */
  .page-help .card{
    background:#f5f5f7;
    color:#111317;
    border:0;
    border-radius:18px;
    padding:0; /* accordion controls internal padding */
  }
  @media (prefers-color-scheme: dark){
    .page-help .card{
      background:#0f1116;
      color:#e8e9ec;
      border:0;
    }
  }

  /* accordion layout */
  .help-surface{ background:transparent; padding:22px 0 24px; }
  .accordion{ display:grid; gap:16px; }
  .accordion .card{ animation-fill-mode: both; }

  .acc-header{
    display:flex;
    align-items:center;
    justify-content:flex-start;
    gap:8px;
    padding:14px 18px 14px 14px;
  }
  .acc-title{margin:0;font-weight:600;font-size:clamp(18px, 2.4vw, 22px)}
  .acc-toggle{
    display:grid;
    place-items:center;
    width:36px;
    height:36px;
    border-radius:10px;
    appearance: none;
    -webkit-appearance: none;
    background: transparent !important;
    border: 0 !important;
    color: inherit;
    cursor:pointer;
    outline: none !important;
    box-shadow: none !important;
    transition: transform .15s ease;
  }
  .acc-toggle:hover{ opacity:.85; }
  .acc-toggle:active{ transform: scale(0.98); }
  .acc-toggle:focus-visible{ box-shadow: none; }
  .chev{
    transition:transform .35s cubic-bezier(.22,1,.36,1);
    transform-origin:center;
    transform:rotate(90deg); /* closed */
  }
  .acc-toggle[aria-expanded="true"] .chev{
    transform:rotate(0deg);  /* open */
  }
  .acc-panel{display:grid;grid-template-rows:0fr;transition:grid-template-rows .45s cubic-bezier(.22,1,.36,1);overflow:hidden}
  .acc-panel>div{overflow:hidden;padding:14px 18px;border-top:1px solid var(--nav-border)}
  .acc-panel[hidden]{ visibility:hidden; pointer-events:none; grid-template-rows:0fr !important; }
  .acc-panel[hidden] > div{ border-top:0 !important; padding-top:0; padding-bottom:0; }

  /* body text rhythm inside panels */
  .prose{ line-height:1.65; }
  .prose h1,.prose h2{ font-size:clamp(18px, 4vw, 20px); margin:16px 0 8px; font-weight:600; }
  .prose h3{ font-size:clamp(16px, 4vw, 18px); margin:16px 0 6px; }
  .prose p{ margin:8px 0; font-size:clamp(14px, 3.6vw, 16px); }
  .prose ul{ margin:8px 0 8px 1.2rem; padding:0; }
  .prose li{ margin:6px 0; }
  .prose{ padding-inline: 6px; }
  @media (min-width:900px){
    .prose{ padding-inline: 10px; }
  }
  .prose strong{ font-weight:600; }
  .acc-panel .prose > *:first-child{ margin-top:0; }           /* remove extra gap above first heading ("Download") */
  .prose ul + p{ margin-top:12px; }                             /* ensure space before Apple-owned resources paragraph */

  /* footer theming */
  .page-help .footer{
    background:#f5f5f7;
    color:#5e6572;
  }
  @media (prefers-color-scheme: dark){
    .page-help .footer{
      background:#0f1116;
      color:#a7acb7;
    }
  }
  .page-help main{ margin-bottom:0; padding-bottom:0 }
  .page-help .footer{ margin:0 }
  </style>
</head>
<body class="page-help" data-base="..">
<div id="nav-slot"></div>

<main>
  <section class="section section--first">
    <div class="container hero copy" style="text-align:center">
      <h1 class="title reveal-onload" style="margin-bottom:4px">Help</h1>
      <p class="subtitle small reveal-onload reveal-delay-1">Setup iStage, find tips, and get help with common issues.</p>
      <div class="help-hero">
        <img src="../assets/img/help-hero.png" alt="iStage lock screen preview" loading="lazy" onerror="this.style.display='none'">
      </div>
    </div>

    <div class="help-surface">
      <div class="container">
        <div class="accordion" id="help-accordion">
          <!-- Download & Setup -->
          <article class="card reveal-onload">
            <div class="acc-header">
              <button class="acc-toggle" aria-expanded="false" aria-controls="acc-panel-setup">
                <span class="sr-only">Toggle</span>
                <svg class="chev" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.7 9.3a1 1 0 0 1 1.4 0L12 13.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 10.7a1 1 0 0 1 0-1.4Z"/></svg>
              </button>
              <h2 class="acc-title">Download &amp; Setup</h2>
            </div>
            <div class="acc-panel" id="acc-panel-setup" hidden>
              <div class="prose">
                <h3>Download</h3>
                <ul>
                  <li>Get the latest release from the <a href="../releases/">Releases</a> page.</li>
                  <li>Download the <code>.klck</code> preset file included in the release.</li>
                </ul>

                <h3>Setup</h3>
                <ul>
                  <li>Open <strong>KLCK</strong> on your Android device.</li>
                  <li>Import the downloaded <code>.klck</code> preset file.</li>
                  <li>Apply the preset as your lock screen layout.</li>
                </ul>
                
                <h3>Notes</h3>
                <p><strong>Apple‑owned resources are not included in this repository.</strong></p>
                <p>Certain parts of the interface are designed to use <strong>SF Pro fonts</strong> and <strong>SF Symbols</strong>, and these must be prepared by the user separately.</p>
                <p>Please check the font list needed to use the lock screen in <strong>globals(config/font)</strong> of the preset. (Installation methods or download links are <strong>not provided</strong> here.)</p>
              </div>
            </div>
          </article>

          <!-- Performance & Responsiveness -->
          <article class="card reveal-onload">
            <div class="acc-header">
              <button class="acc-toggle" aria-expanded="false" aria-controls="acc-panel-perf">
                <span class="sr-only">Toggle</span>
                <svg class="chev" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.7 9.3a1 1 0 0 1 1.4 0L12 13.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 10.7a1 1 0 0 1 0-1.4Z"/></svg>
              </button>
              <h2 class="acc-title">Performance &amp; Responsiveness</h2>
            </div>
            <div class="acc-panel" id="acc-panel-perf" hidden>
              <div class="prose">
                <ul>
                  <li>Disable other live wallpapers/widgets temporarily to check conflicts.</li>
                  <li>Reduce blur intensity in iStage settings if your device struggles with heavy blur.</li>
                  <li>Turn off battery savers that throttle animations.</li>
                  <li>Restart KLCK after big changes (force stop → reopen).</li>
                </ul>
              </div>
            </div>
          </article>

          <!-- Importing & Applying -->
          <article class="card reveal-onload">
            <div class="acc-header">
              <button class="acc-toggle" aria-expanded="false" aria-controls="acc-panel-import">
                <span class="sr-only">Toggle</span>
                <svg class="chev" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.7 9.3a1 1 0 0 1 1.4 0L12 13.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 10.7a1 1 0 0 1 0-1.4Z"/></svg>
              </button>
              <h2 class="acc-title">Importing &amp; Applying</h2>
            </div>
            <div class="acc-panel" id="acc-panel-import" hidden>
              <div class="prose">
                <ul>
                  <li>Ensure KLCK is updated to the latest version.</li>
                  <li>Confirm storage permission is granted to KLCK.</li>
                  <li>If import fails, move the file to internal storage (e.g., <code>/Download</code>) and retry.</li>
                  <li>If widgets look misaligned, set the device DPI and safe‑area to default in KLCK.</li>
                </ul>
              </div>
            </div>
          </article>

          <!-- Device Compatibility -->
          <article class="card reveal-onload">
            <div class="acc-header">
              <button class="acc-toggle" aria-expanded="false" aria-controls="acc-panel-compat">
                <span class="sr-only">Toggle</span>
                <svg class="chev" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.7 9.3a1 1 0 0 1 1.4 0L12 13.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 10.7a1 1 0 0 1 0-1.4Z"/></svg>
              </button>
              <h2 class="acc-title">Device Compatibility</h2>
            </div>
            <div class="acc-panel" id="acc-panel-compat" hidden>
              <div class="prose">
                <ul>
                  <li>Designed for modern Android devices with KLCK support.</li>
                  <li>Requires SF Pro fonts / SF Symbols prepared by the user for best visual match.</li>
                  <li>Dynamic blur/animations are heavier on low‑end devices.</li>
                </ul>
              </div>
            </div>
          </article>

          <!-- Known Limitations -->
          <article class="card reveal-onload">
            <div class="acc-header">
              <button class="acc-toggle" aria-expanded="false" aria-controls="acc-panel-limits">
                <span class="sr-only">Toggle</span>
                <svg class="chev" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.7 9.3a1 1 0 0 1 1.4 0L12 13.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 10.7a1 1 0 0 1 0-1.4Z"/></svg>
              </button>
              <h2 class="acc-title">Known Limitations</h2>
            </div>
            <div class="acc-panel" id="acc-panel-limits" hidden>
              <div class="prose">
                <ul>
                  <li>Some KLCK blur behaviors may exceed intended bounds; alternatives are under review.</li>
                  <li>Live Activity overlaps may occur with expanded widgets; fixes are planned in future updates.</li>
                </ul>
              </div>
            </div>
          </article>

          <!-- Troubleshooting -->
          <article class="card reveal-onload">
            <div class="acc-header">
              <button class="acc-toggle" aria-expanded="false" aria-controls="acc-panel-check">
                <span class="sr-only">Toggle</span>
                <svg class="chev" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.7 9.3a1 1 0 0 1 1.4 0L12 13.2l3.9-3.9a1 1 0 1 1 1.4 1.4l-4.6 4.6a1 1 0 0 1-1.4 0L6.7 10.7a1 1 0 0 1 0-1.4Z"/></svg>
              </button>
              <h2 class="acc-title">Troubleshooting</h2>
            </div>
            <div class="acc-panel" id="acc-panel-check" hidden>
              <div class="prose">
                <ol>
                  <li>Latest KLCK installed and permissions granted.</li>
                  <li>Preset imported from internal storage (not cloud sandbox).</li>
                  <li>Battery saver / device optimizer disabled for KLCK.</li>
                  <li>Device restarted if graphics glitches persist.</li>
                </ol>
              </div>
            </div>
          </article>
        </div>
      </div>
    </div>
  </section>
<!-- removed stray duplicate closing main tag -->

</main>
<div id="footer-slot"></div>
<script src="../assets/js/shell.js" defer></script>
<script>
  (function(){
    try{
      const mql = window.matchMedia('(prefers-color-scheme: dark)');
      const apply = () => {
        document.documentElement.style.setProperty('--nav-backdrop', mql.matches ? '#000' : '#fff');
      };
      apply();
      if (mql.addEventListener) mql.addEventListener('change', apply);
      else if (mql.addListener) mql.addListener(apply);
    }catch(e){}
  })();
  (function(){
    try{
      const toggles = Array.prototype.slice.call(document.querySelectorAll('.acc-toggle'));
      toggles.forEach(function(btn){
        btn.addEventListener('click', function(){
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          const panelId = btn.getAttribute('aria-controls');
          const panel = document.getElementById(panelId);
          btn.setAttribute('aria-expanded', (!expanded).toString());
          if (panel){
            if (expanded){
              panel.setAttribute('hidden','');
              panel.style.gridTemplateRows = '0fr';
            }else{
              panel.removeAttribute('hidden');
              requestAnimationFrame(function(){ panel.style.gridTemplateRows = '1fr'; });
            }
          }
        });
        btn.addEventListener('keydown', function(e){
          if (e.key === 'Enter' || e.key === ' '){
            e.preventDefault();
            btn.click();
          }
        });
      });
    }catch(e){}
  })();
  (function(){
    try{
      const cards = document.querySelectorAll('.accordion .card.reveal-onload');
      cards.forEach((el, i) => {
        el.style.animationDelay = `${0.12 + 0.08*i}s`;
      });
    }catch(e){}
  })();
</script>
</body>
</html>
